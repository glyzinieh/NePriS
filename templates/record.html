{% extends "layout.html" %}

{% block title %}Record{% endblock %}

{% block content %}
<p>現在、セブンイレブン・ファミリーマート・ローソンのネットプリントにのみ対応しております。</p>
<form action="/record/thanks/" method="post" enctype="multipart/form-data">
    <div class="form-gourp">
        <label for="email">メールアドレス(必須)</label>
        <input type="email" class="form-control" name="email" id="email" placeholder="taro@example.com" required>
    </div>
    <div class="form-group">
        <label for="name">ニックネーム(必須)</label>
        <input type="text" class="form-control" name="name" id="name" placeholder="たろう" required>
    </div>
    <div class="form-group">
        <label for="title">タイトル(必須)</label>
        <input type="text" class="form-control" name="title" id="title" required>
    </div>
    <div class="form-group">
        <label for="image">画像(必須)</label>
        <input type="file" class="form-control" name="image" id="image" accept="image/png, image/jpeg" required>
    </div>
    <div class="form-group">
        <label for="date">有効期限(必須)</label>
        <input type="date" class="form-control" name="date" id="date" required>
    </div>
    <div class="form-group">
        <label for="note">備考(任意)</label>
        <textarea class="form-control" rows="7" name="note" id="note"></textarea>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
        <script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
        <script>
            var simplemde = new SimpleMDE({
                element: document.getElementById("note"),
                forceSync: true,
                spellChecker: false,
                toolbar: [
                "bold","italic","strikethrough","heading","|",
                "code","quote","unordered-list","ordered-list","|",
                "link","image","table","horizontal-rule","|",
                "preview","guide"
                ]
            });
        </script>
    </div>
    予約番号(どちらか必須)
    <div class="form-group">
        <label for="no_SEVEN">セブンイレブン(半角大文字英数字8文字)</label>
        <input type="text" class="form-control" name="no_SEVEN" id="no_SEVEN" pattern="^([A-Z0-9]{8})$" onInput="validation_check(this)" required>
    </div>
    <div class="form-group">
        <label for="no_FAMILY_LAWSON">ファミリーマート・ローソン(半角大文字英数字10文字)</label>
        <input type="text" class="form-control" name="no_FAMILY" id="no_FAMILY" pattern="^([A-Z0-9]{10})$" onInput="validation_check(this)" required>
    </div>
    <script>
        const no_SEVEN = document.getElementById('no_SEVEN');
        const no_FAMILY = document.getElementById('no_FAMILY');
        function validation_check($this) {
            if ($this.value) {
                if ($this==no_SEVEN) {
                    no_FAMILY.removeAttribute('required');
                } else if ($this==no_FAMILY) {
                    no_SEVEN.removeAttribute('required');
                }
            } else {
                if ($this==no_SEVEN) {
                    no_FAMILY.setAttribute('required','required');
                } else if ($this==no_FAMILY) {
                    no_SEVEN.setAttribute('required','required');
                }
            }
        }
    </script>
</form>
{% endblock %}